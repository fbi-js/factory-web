<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <meta name="google" content="notranslate" />
    <title>base</title>
    <!--
    Remove this if you only support browsers that support async/await.
    This is needed by babel to share largeish helper code for compiling async/await in older
    browsers. More information at https://github.com/single-spa/create-single-spa/issues/112
  -->
    <!-- <script src="/common-deps/regenerator-runtime@0.13.5.min.js"></script> -->
    <meta name="importmap-type" content="systemjs-importmap" />
    <!-- If you wish to turn off import-map-overrides for specific environments (prod), uncomment the line below -->
    <!-- More info at https://github.com/joeldenning/import-map-overrides/blob/master/docs/configuration.md#domain-list -->
    <!-- <meta name="import-map-overrides-domains" content="denylist:prod.example.com" /> -->

    <!-- Shared dependencies go into this import map. Your shared dependencies must be of one of the following formats:

    1. System.register (preferred when possible) - https://github.com/systemjs/systemjs/blob/master/docs/system-register.md
    2. UMD - https://github.com/umdjs/umd
    3. Global variable

    More information about shared dependencies can be found at https://single-spa.js.org/docs/recommended-setup#sharing-with-import-maps.
  -->
    <% if (isLocal) { %>
    <script type="systemjs-importmap">
      {
        "imports": {
          "single-spa": "/common-deps/singleSpa@5.5.5.min.js",
          "axios": "/common-deps/axios.min.js"
        }
      }
    </script>
    <% } else { %>
    <script type="systemjs-importmap">
      {
        "imports": {
          "single-spa": "/common-deps/singleSpa@5.5.5.min.js",
          "axios": "/common-deps/axios.min.js"
        }
      }
    </script>
    <% } %>
    <link
      rel="preload"
      href="/common-deps/singleSpa@5.5.5.min.js"
      as="script"
    />

    <% if (isLocal) { %>
    <script src="/common-deps/import-map-overrides.js"></script>
    <script src="/common-deps/systemjs@6.7.1/system.js"></script>
    <script src="/common-deps/systemjs@6.7.1/extra/use-default.js"></script>
    <script src="/common-deps/systemjs@6.7.1/named-exports.js"></script>
    <script src="/common-deps/systemjs@6.7.1/amd.js"></script>
    <% } else { %>
    <script src="/common-deps/import-map-overrides.js"></script>
    <script src="/common-deps/systemjs@6.7.1/system.min.js"></script>
    <script src="/common-deps/systemjs@6.7.1/extra/use-default.js"></script>
    <script src="/common-deps/systemjs@6.7.1/named-exports.min.js"></script>
    <script src="/common-deps/systemjs@6.7.1/amd.min.js"></script>
    <% } %>

    <script type="systemjs-importmap">
      {
        "imports": {
          "@mf/base": "<%= serverUrl %>/mf-base.js"
        }
      }
    </script>

    <script type="text/javascript">
      ;(function() {
        /*
         * Support for live DOM updating import maps
         */
        new MutationObserver(function(mutations) {
          for (var i = 0; i < mutations.length; i++) {
            var mutation = mutations[i]
            if (mutation.type === 'childList')
              for (var j = 0; j < mutation.addedNodes.length; j++) {
                var addedNode = mutation.addedNodes[j]
                if (
                  addedNode.tagName === 'SCRIPT' &&
                  addedNode.type === 'systemjs-importmap' &&
                  !addedNode.sp
                ) {
                  System.prepareImport(true)
                  break
                }
              }
          }
        }).observe(document, { childList: true, subtree: true })
      })()
    </script>
  </head>

  <body>
    <div id="app-container"></div>
    <div id="full-loader">
      <div class="ball-clip-rotate">
        <div></div>
      </div>
    </div>
    <!-- <script>
      System.import('@mf/base')
    </script> -->
  </body>
</html>
